// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
  baseUrl: 'https://api.cursor.com' | (string & {});
};

export type ImageDimension = {
  /**
   * Width must be a positive integer
   */
  width: number;
  /**
   * Height must be a positive integer
   */
  height: number;
};

export type Image = {
  /**
   * Base64 encoded image data
   */
  data: string;
  dimension?: ImageDimension;
};

export type CreateAgentRequest = {
  prompt: {
    /**
     * The task or instructions for the agent to execute
     */
    text: string;
    /**
     * Optional array of base64 encoded images (max 5)
     */
    images?: Array<Image>;
  };
  /**
   * The LLM to use
   */
  model?: string;
  source: {
    /**
     * The GitHub repository URL. Required unless prUrl is provided.
     */
    repository?: string;
    /**
     * Git ref (branch/tag) to use as the base branch
     */
    ref?: string;
    /**
     * GitHub pull request URL. When provided, the agent works on this PR's repository and branches. Mutually exclusive with repository/ref.
     */
    prUrl?: string;
  };
  target?: {
    /**
     * Whether to automatically create a pull request when the agent completes
     */
    autoCreatePr?: boolean;
    /**
     * Whether to open the pull request as the Cursor GitHub App instead of as the user. Only applies if autoCreatePr is true.
     */
    openAsCursorGithubApp?: boolean;
    /**
     * Whether to skip adding the user as a reviewer to the pull request. Only applies if autoCreatePr is true and the PR is opened as the Cursor GitHub App.
     */
    skipReviewerRequest?: boolean;
    /**
     * Custom branch name for the agent to create
     */
    branchName?: string;
    /**
     * Whether to create a new branch (true) or use the PR's existing head branch (false). Only applies when source.prUrl is provided.
     */
    autoBranch?: boolean;
  };
  webhook?: {
    /**
     * URL to receive webhook notifications about agent status changes
     */
    url: string;
    /**
     * Secret key for webhook payload verification
     */
    secret?: string;
  };
};

export type Error = {
  error?: {
    /**
     * Human-readable error message
     */
    message?: string;
    /**
     * Machine-readable error code
     */
    code?: string;
  };
};

export type ListAgentsData = {
  body?: never;
  path?: never;
  query?: {
    /**
     * Number of cloud agents to return
     */
    limit?: number;
    /**
     * Pagination cursor from the previous response
     */
    cursor?: string;
    /**
     * Filter agents by pull request URL
     */
    prUrl?: string;
  };
  url: '/v0/agents';
};

export type ListAgentsErrors = {
  /**
   * Invalid request - bad query parameters
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions
   */
  403: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type ListAgentsError = ListAgentsErrors[keyof ListAgentsErrors];

export type ListAgentsResponses = {
  /**
   * Agents retrieved successfully
   */
  200: {
    /**
     * List of agents
     */
    agents: Array<{
      /**
       * Unique identifier for the cloud agent
       */
      id: string;
      /**
       * Name for the agent
       */
      name: string;
      /**
       * Current status of the cloud agent
       */
      status: 'RUNNING' | 'FINISHED' | 'ERROR' | 'CREATING' | 'EXPIRED';
      source: {
        /**
         * The GitHub repository URL
         */
        repository?: string;
        /**
         * Git ref (branch/tag) used as the base branch
         */
        ref?: string;
      };
      target: {
        /**
         * The Git branch name where the agent is working
         */
        branchName?: string;
        /**
         * URL to view the agent in Cursor Web
         */
        url: string;
        /**
         * URL to view the pull request in GitHub, if any
         */
        prUrl?: string;
        /**
         * Whether a pull request will be automatically created
         */
        autoCreatePr?: boolean;
        /**
         * Whether the pull request will be opened as the Cursor GitHub App
         */
        openAsCursorGithubApp?: boolean;
        /**
         * Whether to skip adding the user as a reviewer to the pull request
         */
        skipReviewerRequest?: boolean;
      };
      /**
       * Summary of the agent's work
       */
      summary?: string;
      /**
       * When the agent was created
       */
      createdAt: string;
    }>;
    /**
     * Cursor for fetching the next page of results
     */
    nextCursor?: string;
  };
};

export type ListAgentsResponse = ListAgentsResponses[keyof ListAgentsResponses];

export type CreateAgentData = {
  body: CreateAgentRequest;
  path?: never;
  query?: never;
  url: '/v0/agents';
};

export type CreateAgentErrors = {
  /**
   * Invalid request
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions, plan limits exceeded, or storage full
   */
  403: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type CreateAgentError = CreateAgentErrors[keyof CreateAgentErrors];

export type CreateAgentResponses = {
  /**
   * Agent created successfully
   */
  201: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
    /**
     * Name for the agent
     */
    name: string;
    /**
     * Initial status of the newly created agent
     */
    status: 'CREATING';
    source: {
      /**
       * The GitHub repository URL
       */
      repository: string;
      /**
       * Git ref (branch/tag) used as the base branch
       */
      ref?: string;
    };
    target: {
      /**
       * The Git branch name where the agent is working
       */
      branchName?: string;
      /**
       * URL to view the agent in Cursor Web
       */
      url: string;
      /**
       * URL of the pull request, if agent was created from a PR
       */
      prUrl?: string;
      /**
       * Whether a pull request will be automatically created
       */
      autoCreatePr?: boolean;
      /**
       * Whether the pull request will be opened as the Cursor GitHub App
       */
      openAsCursorGithubApp?: boolean;
      /**
       * Whether to skip adding the user as a reviewer to the pull request
       */
      skipReviewerRequest?: boolean;
    };
    /**
     * When the agent was created
     */
    createdAt: string;
  };
};

export type CreateAgentResponse =
  CreateAgentResponses[keyof CreateAgentResponses];

export type DeleteAgentData = {
  body?: never;
  path: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
  query?: never;
  url: '/v0/agents/{id}';
};

export type DeleteAgentErrors = {
  /**
   * Invalid request - bad agent ID format
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions
   */
  403: Error;
  /**
   * Agent not found or access denied
   */
  404: Error;
  /**
   * Conflict - agent is deleted or archived
   */
  409: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type DeleteAgentError = DeleteAgentErrors[keyof DeleteAgentErrors];

export type DeleteAgentResponses = {
  /**
   * Agent deleted successfully
   */
  200: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
};

export type DeleteAgentResponse =
  DeleteAgentResponses[keyof DeleteAgentResponses];

export type GetAgentData = {
  body?: never;
  path: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
  query?: never;
  url: '/v0/agents/{id}';
};

export type GetAgentErrors = {
  /**
   * Invalid request - bad agent ID format
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions
   */
  403: Error;
  /**
   * Agent not found or access denied
   */
  404: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type GetAgentError = GetAgentErrors[keyof GetAgentErrors];

export type GetAgentResponses = {
  /**
   * Agent details retrieved successfully
   */
  200: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
    /**
     * Name for the agent
     */
    name: string;
    /**
     * Current status of the cloud agent
     */
    status: 'RUNNING' | 'FINISHED' | 'ERROR' | 'CREATING' | 'EXPIRED';
    source: {
      /**
       * The GitHub repository URL
       */
      repository?: string;
      /**
       * Git ref (branch/tag) used as the base branch
       */
      ref?: string;
    };
    target: {
      /**
       * The Git branch name where the agent is working
       */
      branchName?: string;
      /**
       * URL to view the agent in Cursor Web
       */
      url: string;
      /**
       * URL to view the pull request in GitHub, if any
       */
      prUrl?: string;
      /**
       * Whether a pull request will be automatically created
       */
      autoCreatePr?: boolean;
      /**
       * Whether the pull request will be opened as the Cursor GitHub App
       */
      openAsCursorGithubApp?: boolean;
      /**
       * Whether to skip adding the user as a reviewer to the pull request
       */
      skipReviewerRequest?: boolean;
    };
    /**
     * Summary of the agent's work
     */
    summary?: string;
    /**
     * When the agent was created
     */
    createdAt: string;
  };
};

export type GetAgentResponse = GetAgentResponses[keyof GetAgentResponses];

export type AddFollowupData = {
  body: {
    prompt: {
      /**
       * The followup instruction for the agent
       */
      text: string;
      /**
       * Optional array of base64 encoded images (max 5)
       */
      images?: Array<Image>;
    };
  };
  path: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
  query?: never;
  url: '/v0/agents/{id}/followup';
};

export type AddFollowupErrors = {
  /**
   * Invalid request - bad agent ID format or invalid request body
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions
   */
  403: Error;
  /**
   * Agent not found or access denied
   */
  404: Error;
  /**
   * Conflict - agent is deleted or archived
   */
  409: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type AddFollowupError = AddFollowupErrors[keyof AddFollowupErrors];

export type AddFollowupResponses = {
  /**
   * Followup added successfully
   */
  200: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
};

export type AddFollowupResponse =
  AddFollowupResponses[keyof AddFollowupResponses];

export type StopAgentData = {
  body?: never;
  path: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
  query?: never;
  url: '/v0/agents/{id}/stop';
};

export type StopAgentErrors = {
  /**
   * Invalid request - bad agent ID format
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions
   */
  403: Error;
  /**
   * Agent not found or access denied
   */
  404: Error;
  /**
   * Conflict - agent is deleted or archived
   */
  409: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type StopAgentError = StopAgentErrors[keyof StopAgentErrors];

export type StopAgentResponses = {
  /**
   * Agent stopped successfully
   */
  200: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
};

export type StopAgentResponse = StopAgentResponses[keyof StopAgentResponses];

export type GetAgentConversationData = {
  body?: never;
  path: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
  };
  query?: never;
  url: '/v0/agents/{id}/conversation';
};

export type GetAgentConversationErrors = {
  /**
   * Invalid request - bad agent ID format
   */
  400: Error;
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Forbidden - insufficient permissions
   */
  403: Error;
  /**
   * Agent not found or access denied
   */
  404: Error;
  /**
   * Conflict - agent is deleted or archived
   */
  409: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type GetAgentConversationError =
  GetAgentConversationErrors[keyof GetAgentConversationErrors];

export type GetAgentConversationResponses = {
  /**
   * Conversation retrieved successfully
   */
  200: {
    /**
     * Unique identifier for the cloud agent
     */
    id: string;
    /**
     * Array of conversation messages ordered chronologically
     */
    messages: Array<{
      /**
       * Unique identifier for the message
       */
      id: string;
      /**
       * Type of message - either from the user or the model
       */
      type: 'user_message' | 'assistant_message';
      /**
       * The content of the message
       */
      text: string;
    }>;
  };
};

export type GetAgentConversationResponse =
  GetAgentConversationResponses[keyof GetAgentConversationResponses];

export type GetMeData = {
  body?: never;
  path?: never;
  query?: never;
  url: '/v0/me';
};

export type GetMeErrors = {
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * API key not found
   */
  404: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type GetMeError = GetMeErrors[keyof GetMeErrors];

export type GetMeResponses = {
  /**
   * API key information retrieved successfully
   */
  200: {
    /**
     * The name of the API key
     */
    apiKeyName: string;
    /**
     * When the API key was created
     */
    createdAt: string;
    /**
     * Email address of the user who owns the API key (if available)
     */
    userEmail?: string;
  };
};

export type GetMeResponse = GetMeResponses[keyof GetMeResponses];

export type ListModelsData = {
  body?: never;
  path?: never;
  query?: never;
  url: '/v0/models';
};

export type ListModelsErrors = {
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type ListModelsError = ListModelsErrors[keyof ListModelsErrors];

export type ListModelsResponses = {
  /**
   * Models retrieved successfully
   */
  200: {
    /**
     * Array of available model names
     */
    models: Array<string>;
  };
};

export type ListModelsResponse = ListModelsResponses[keyof ListModelsResponses];

export type ListRepositoriesData = {
  body?: never;
  path?: never;
  query?: never;
  url: '/v0/repositories';
};

export type ListRepositoriesErrors = {
  /**
   * Unauthorized - invalid or missing API key
   */
  401: Error;
  /**
   * Rate limit exceeded
   */
  429: Error;
  /**
   * Internal server error
   */
  500: Error;
};

export type ListRepositoriesError =
  ListRepositoriesErrors[keyof ListRepositoriesErrors];

export type ListRepositoriesResponses = {
  /**
   * Repositories retrieved successfully
   */
  200: {
    /**
     * Array of GitHub repositories the user has access to
     */
    repositories: Array<{
      /**
       * The owner of the repository (user or organization)
       */
      owner: string;
      /**
       * The name of the repository
       */
      name: string;
      /**
       * The full URL to the GitHub repository
       */
      repository: string;
    }>;
  };
};

export type ListRepositoriesResponse =
  ListRepositoriesResponses[keyof ListRepositoriesResponses];
