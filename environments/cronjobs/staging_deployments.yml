# Staging cronjob configuration
# Environment-specific overrides (merged with cronjobs/common.yaml)

cronJobs:
  - name: sage-bot-jira-polling-job
    schedule: '0 0 30 2 *' # Disabled: Feb 30 (never runs) - use kubectl to run manually
    suspend: true # Disable automatic execution
    concurrencyPolicy: Forbid
    command: ['yarn', 'poll-jira:staging']
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: 1
        memory: 2Gi
    env:
      NODE_ENV: staging
      SENTRY_ENVIRONMENT: staging
      BRAINTRUST_PARENT: project_name:sage-staging
      BRAINTRUST_PROJECT_NAME: sage-staging
      JIRA_BASE_URL: https://jira-staging.corp.mongodb.com

  - name: cursor-agent-status-polling-job
    schedule: '0 0 30 2 *' # Disabled: Feb 30 (never runs) - use kubectl to run manually
    suspend: true # Disable automatic execution
    concurrencyPolicy: Forbid
    command: ['yarn', 'poll-cursor-status:staging']
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: 1
        memory: 2Gi
    env:
      NODE_ENV: staging
      SENTRY_ENVIRONMENT: staging
      BRAINTRUST_PARENT: project_name:sage-staging
      BRAINTRUST_PROJECT_NAME: sage-staging
      JIRA_BASE_URL: https://jira-staging.corp.mongodb.com
