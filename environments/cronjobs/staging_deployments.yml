# Staging cronjob configuration
# Environment-specific overrides (merged with cronjobs/common.yaml)

cronJobs:
  - name: sage-bot-jira-polling-job
    schedule: '* * * * *' # Original schedule (every minute) - disabled via suspend: true
    suspend: true # Disable automatic execution - set to false to re-enable
    concurrencyPolicy: Forbid
    command: ['pnpm', 'poll-jira:staging']
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: 1
        memory: 2Gi
    env:
      NODE_ENV: staging
      SENTRY_ENVIRONMENT: staging
      BRAINTRUST_PARENT: project_name:sage-staging
      BRAINTRUST_PROJECT_NAME: sage-staging
      JIRA_BASE_URL: https://jira-staging.corp.mongodb.com

  - name: cursor-agent-status-polling-job
    schedule: '* * * * *' # Original schedule (every minute) - disabled via suspend: true
    suspend: true # Disable automatic execution - set to false to re-enable
    concurrencyPolicy: Forbid
    command: ['pnpm', 'poll-cursor-status:staging']
    resources:
      requests:
        cpu: 500m
        memory: 1Gi
      limits:
        cpu: 1
        memory: 2Gi
    env:
      NODE_ENV: staging
      SENTRY_ENVIRONMENT: staging
      BRAINTRUST_PARENT: project_name:sage-staging
      BRAINTRUST_PROJECT_NAME: sage-staging
      JIRA_BASE_URL: https://jira-staging.corp.mongodb.com
